'use strict';

var test = require('tape');
var qs = require('../');
var utils = require('../lib/utils');
var iconv = require('iconv-lite');
var SaferBuffer = require('safer-buffer').Buffer;
var hasSymbols = require('has-symbols');
var hasBigInt = typeof BigInt === 'function';

test('stringify()', function (t) {
    t.test('stringifies a querystring object', function (st) {
        st.equal(qs.stringify({ a: 'b' }), 'a=b');
        st.equal(qs.stringify({ a: 1 }), 'a=1');
        st.equal(qs.stringify({ a: 1, b: 2 }), 'a=1&b=2');
        st.equal(qs.stringify({ a: 'A_Z' }), 'a=A_Z');
        st.equal(qs.stringify({ a: 'â‚¬' }), 'a=%E2%82%AC');
        st.equal(qs.stringify({ a: 'î€€' }), 'a=%EE%80%80');
        st.equal(qs.stringify({ a: '×' }), 'a=%D7%90');
        st.equal(qs.stringify({ a: 'ğ·' }), 'a=%F0%90%90%B7');
        st.end();
    });

    t.test('stringifies falsy values', function (st) {
        st.equal(qs.stringify(undefined), '');
        st.equal(qs.stringify(null), '');
        st.equal(qs.stringify(null, { strictNullHandling: true }), '');
        st.equal(qs.stringify(false), '');
        st.equal(qs.stringify(0), '');
        st.end();
    });

    t.test('stringifies symbols', { skip: !hasSymbols() }, function (st) {
        st.equal(qs.stringify(Symbol.iterator), '');
        st.equal(qs.stringify([Symbol.iterator]), '0=Symbol%28Symbol.iterator%29');
        st.equal(qs.stringify({ a: Symbol.iterator }), 'a=Symbol%28Symbol.iterator%29');
        st.equal(
            qs.stringify({ a: [Symbol.iterator] }, { encodeValuesOnly: true, arrayFormat: 'brackets' }),
            'a[]=Symbol%28Symbol.iterator%29'
        );
        st.end();
    });

    t.test('stringifies bigints', { skip: !hasBigInt }, function (st) {
        var three = BigInt(3);
        var encodeWithN = function (value, defaultEncoder, charset) {
            var result = defaultEncoder(value, defaultEncoder, charset);
            return typeof value === 'bigint' ? result + 'n' : result;
        };
        st.equal(qs.stringify(three), '');
        st.equal(qs.stringify([three]), '0=3');
        st.equal(qs.stringify([three], { encoder: encodeWithN }), '0=3n');
        st.equal(qs.stringify({ a: three }), 'a=3');
        st.equal(qs.stringify({ a: three }, { encoder: encodeWithN }), 'a=3n');
        st.equal(
            qs.stringify({ a: [three] }, { encodeValuesOnly: true, arrayFormat: 'brackets' }),
            'a[]=3'
        );
        st.equal(
            qs.stringify({ a: [three] }, { encodeValuesOnly: true, encoder: encodeWithN, arrayFormat: 'brackets' }),
            'a[]=3n'
        );
        st.end();
    });

    t.test('adds query prefix', function (st) {
        st.equal(qs.stringify({ a: 'b' }, { addQueryPrefix: true }), '?a=b');
        st.end();
    });

    t.test('with query prefix, outputs blank string given an empty object', function (st) {
        st.equal(qs.stringify({}, { addQueryPrefix: true }), '');
        st.end();
    });

    t.test('stringifies nested falsy values', function (st) {
        st.equal(qs.stringify({ a: { b: { c: null } } }), 'a%5Bb%5D%5Bc%5D=');
        st.equal(qs.stringify({ a: { b: { c: null } } }, { strictNullHandling: true }), 'a%5Bb%5D%5Bc%5D');
        st.equal(qs.stringify({ a: { b: { c: false } } }), 'a%5Bb%5D%5Bc%5D=false');
        st.end();
    });

    t.test('stringifies a nested object', function (st) {
        st.equal(qs.stringify({ a: { b: 'c' } }), 'a%5Bb%5D=c');
        st.equal(qs.stringify({ a: { b: { c: { d: 'e' } } } }), 'a%5Bb%5D%5Bc%5D%5Bd%5D=e');
        st.end();
    });

    t.test('stringifies a nested object with dots notation', function (st) {
        st.equal(qs.stringify({ a: { b: 'c' } }, { allowDots: true }), 'a.b=c');
        st.equal(qs.stringify({ a: { b: { c: { d: 'e' } } } }, { allowDots: true }), 'a.b.c.d=e');
        st.end();
    });

    t.test('stringifies an array value', function (st) {
        st.equal(
            qs.stringify({ a: ['b', 'c', 'd'] }, { arrayFormat: 'indices' }),
            'a%5B0%5D=b&a%5B1%5D=c&a%5B2%5D=d',
            'indices => indices'
        );
        st.equal(
            qs.stringify({ a: ['b', 'c', 'd'] }, { arrayFormat: 'brackets' }),
            'a%5B%5D=b&a%5B%5D=c&a%5B%5D=d',
            'brackets => brackets'
        );
        st.equal(
            qs.stringify({ a: ['b', 'c', 'd'] }, { arrayFormat: 'comma' }),
            'a=b%2Cc%2Cd',
            'comma => comma'
        );
        st.equal(
            qs.stringify({ a: ['b', 'c', 'd'] }),
            'a%5B0%5D=b&a%5B1%5D=c&a%5B2%5D=d',
            'default => indices'
        );
        st.end();
    });

    t.test('omits nulls when asked', function (st) {
        st.equal(qs.stringify({ a: 'b', c: null }, { skipNulls: true }), 'a=b');
        st.end();
    });

    t.test('omits nested nulls when asked', function (st) {
        st.equal(qs.stringify({ a: { b: 'c', d: null } }, { skipNulls: true }), 'a%5Bb%5D=c');
        st.end();
    });

    t.test('omits array indices when asked', function (st) {
        st.equal(qs.stringify({ a: ['b', 'c', 'd'] }, { indices: false }), 'a=b&a=c&a=d');
        st.end();
    });

    t.test('stringifies an array value with one item vs multiple items', function (st) {
        st.test('non-array item', function (s2t) {
            s2t.equal(qs.stringify({ a: 'c' }, { encodeValuesOnly: true, arrayFormat: 'indices' }), 'a=c');
            s2t.equal(qs.stringify({ a: 'c' }, { encodeValuesOnly: true, arrayFormat: 'brackets' }), 'a=c');
            s2t.equal(qs.stringify({ a: 'c' }, { encodeValuesOnly: true, arrayFormat: 'comma' }), 'a=c');
            s2t.equal(qs.stringify({ a: 'c' }, { encodeValuesOnly: true }), 'a=c');

            s2t.end();
        });

        st.test('array with a single item', function (s2t) {
            s2t.equal(qs.stringify({ a: ['c'] }, { encodeValuesOnly: true, arrayFormat: 'indices' }), 'a[0]=c');
            s2t.equal(qs.stringify({ a: ['c'] }, { encodeValuesOnly: true, arrayFormat: 'brackets' }), 'a[]=c');
            s2t.equal(qs.stringify({ a: ['c'] }, { encodeValuesOnly: true, arrayFormat: 'comma' }), 'a=c');
            s2t.equal(qs.stringify({ a: ['c'] }, { encodeValuesOnly: true, arrayFormat: 'comma', commaRoundTrip: true }), 'a[]=c'); // so it parses back as an array
            s2t.equal(qs.stringify({ a: ['c'] }, { encodeValuesOnly: true }), 'a[0]=c');

            s2t.end();
        });

        st.test('array with multiple items', function (s2t) {
            s2t.equal(qs.stringify({ a: ['c', 'd'] }, { encodeValuesOnly: true, arrayFormat: 'indices' }), 'a[0]=c&a[1]=d');
            s2t.equal(qs.stringify({ a: ['c', 'd'] }, { encodeValuesOnly: true, arrayFormat: 'brackets' }), 'a[]=c&a[]=d');
            s2t.equal(qs.stringify({ a: ['c', 'd'] }, { encodeValuesOnly: true, arrayFormat: 'comma' }), 'a=c,d');
            s2t.equal(qs.stringify({ a: ['c', 'd'] }, { encodeValuesOnly: true }), 'a[0]=c&a[1]=d');

            s2t.end();
        });

        st.end();
    });

    t.test('stringifies a nested array value', function (st) {
        st.equal(qs.stringify({ a: { b: ['c', 'd'] } }, { encodeValuesOnly: true, arrayFormat: 'indices' }), 'a[b][0]=c&a[b][1]=d');
        st.equal(qs.stringify({ a: { b: ['c', 'd'] } }, { encodeValuesOnly: true, arrayFormat: 'brackets' }), 'a[b][]=c&a[b][]=d');
        st.equal(qs.stringify({ a: { b: ['c', 'd'] } }, { encodeValuesOnly: true, arrayFormat: 'comma' }), 'a[b]=c,d');
        st.equal(qs.stringify({ a: { b: ['c', 'd'] } }, { encodeValuesOnly: true }), 'a[b][0]=c&a[b][1]=d');
        st.end();
    });

    t.test('stringifies a nested array value with dots notation', function (st) {
        st.equal(
            qs.stringify(
                { a: { b: ['c', 'd'] } },
                { allowDots: true, encodeValuesOnly: true, arrayFormat: 'indices' }
            ),
            'a.b[0]=c&a.b[1]=d',
            'indices: stringifies with dots + indices'
        );
        st.equal(
            qs.stringify(
                { a: { b: ['c', 'd'] } },
                { allowDots: true, encodeValuesOnly: true, arrayFormat: 'brackets' }
            ),
            'a.b[]=c&a.b[]=d',
            'brackets: stringifies with dots + brackets'
        );
        st.equal(
            qs.stringify(
                { a: { b: ['c', 'd'] } },
                { allowDots: true, encodeValuesOnly: true, arrayFormat: 'comma' }
            ),
            'a.b=c,d',
            'comma: stringifies with dots + comma'
        );
        st.equal(
            qs.stringify(
                { a: { b: ['c', 'd'] } },
                { allowDots: true, encodeValuesOnly: true }
            ),
            'a.b[0]=c&a.b[1]=d',
            'default: stringifies with dots + indices'
        );
        st.end();
    });

    t.test('stringifies an object inside an array', function (st) {
        st.equal(
            qs.stringify({ a: [{ b: 'c' }] }, { arrayFormat: 'indices' }),
            'a%5B0%5D%5Bb%5D=c', // a[0][b]=c
            'indices => brackets'
        );
        st.equal(
            qs.stringify({ a: [{ b: 'c' }] }, { arrayFormat: 'brackets' }),
            'a%5B%5D%5Bb%5D=c', // a[][b]=c
            'brackets => brackets'
        );
        st.equal(
            qs.stringify({ a: [{ b: 'c' }] }),
            'a%5B0%5D%5Bb%5D=c',
            'default => indices'
        );

        st.equal(
            qs.stringify({ a: [{ b: { c: [1] } }] }, { arrayFormat: 'indices' }),
            'a%5B0%5D%5Bb%5D%5Bc%5D%5B0%5D=1',
            'indices => indices'
        );

        st.equal(
            qs.stringify({ a: [{ b: { c: [1] } }] }, { arrayFormat: 'brackets' }),
            'a%5B%5D%5Bb%5D%5Bc%5D%5B%5D=1',
            'brackets => brackets'
        );

        st.equal(
            qs.stringify({ a: [{ b: { c: [1] } }] }),
            'a%5B0%5D%5Bb%5D%5Bc%5D%5B0%5D=1',
            'default => indices'
        );

        st.end();
    });

    t.test('stringifies an array with mixed objects and primitives', function (st) {
        st.equal(
            qs.stringify({ a: [{ b: 1 }, 2, 3] }, { encodeValuesOnly: true, arrayFormat: 'indices' }),
            'a[0][b]=1&a[1]=2&a[2]=3',
            'indices => indices'
        );
        st.equal(
            qs.stringify({ a: [{ b: 1 }, 2, 3] }, { encodeValuesOnly: true, arrayFormat: 'brackets' }),
            'a[][b]=1&a[]=2&a[]=3',
            'brackets => brackets'
        );
        st.equal(
            qs.stringify({ a: [{ b: 1 }, 2, 3] }, { encodeValuesOnly: true, arrayFormat: 'comma' }),
            '???',
            'brackets => brackets',
            { skip: 'TODO: figure out what this should do' }
        );
        st.equal(
            qs.stringify({ a: [{ b: 1 }, 2, 3] }, { encodeValuesOnly: true }),
            'a[0][b]=1&a[1]=2&a[2]=3',
            'default => indices'
        );

        st.end();
    });

    t.test('stringifies an object inside an array with dots notation', function (st) {
        st.equal(
            qs.stringify(
                { a: [{ b: 'c' }] },
                { allowDots: true, encode: false, arrayFormat: 'indices' }
            ),
            'a[0].b=c',
            'indices => indices'
        );
        st.equal(
            qs.stringify(
                { a: [{ b: 'c' }] },
                { allowDots: true, encode: false, arrayFormat: 'brackets' }
            ),
            'a[].b=c',
            'brackets => brackets'
        );
        st.equal(
            qs.stringify(
                { a: [{ b: 'c' }] },
                { allowDots: true, encode: false }
            ),
            'a[0].b=c',
            'default => indices'
        );

        st.equal(
            qs.stringify(
                { a: [{ b: { c: [1] } }] },
                { allowDots: true, encode: false, arrayFormat: 'indices' }
            ),
            'a[0].b.c[0]=1',
            'indices => indices'
        );
        st.equal(
            qs.stringify(
                { a: [{ b: { c: [1] } }] },
                { allowDots: true, encode: false, arrayFormat: 'brackets' }
            ),
            'a[].b.c[]=1',
            'brackets => brackets'
        );
        st.equal(
            qs.stringify(
                { G6-REMC:9 SDB:â SD>:$SEEBJ LR1:¡I]}SLRRX6  T> PEL:@STRP:TCTI:SJ& ßr&:« TC>ÄTO>"TPA:TPIN:¨TSU:lTXO> TXT>&XEDåW|HAS_USED_PRO_FEATURE_MAGIC_SWITC=(IS_DEVELOPEAyIS-(CHURNED_ANYê	: ,LAST_6_MONTH¥•
$ATION_AT", E OCALE_CODA* Lß4QUES60NAIRE_SUBMITTE½0TEACHER_USAGE–<p":[],"m":21600,ÊğX"BOBIMe5y6jMK4hx4Hx2J0HHM3A_2iNwnslywfJq3BqV8CH5oZlgviCZhN3qyPkDFZ6-l6MtGlRCEWMVJXj4gAIc=‚D":{}}}    Ø     š¼3Ÿ»7ğ¶ Yi_https://www.canva.com ab.storage.sessionId.320f7332-8571-45d7-b342-c54192dae547OG    {"v":{"g":"badc82a6-4949-d125-f44a-e60f19f96749","e":1710532151969,"c":1710530285316,"l":1	35$l}}*D-_id_for_cached_metadata–°  3.° "baŠ« 8}#8triggers.ts–h  4.h  1	Ä4286112}#3>userb 5.J )b0UADZkB-dz6M",%7<646715632780,"l"s85318}} test T	M,‚design_s)ğ_idsc	0DAF7czOGIOs:lh:01HS1RTWY19CPVS4Q16VT9F707pD348813|DAF_mz69kK0JA LVMF1F084055R2TJ76CF1Aˆ607209Í	editor_doctype_settingsQ¥{"A":[H"TAB7AVEOUWQ","B":{<"B","C":false,"D
 E
 F
$H":true,"G		}},EJÊ@ A"œ EXfxtKgiU>œ âR  CQ-jGq9fY>R Zî 	Úzí ­2grqPBO8>[ î­ gtv2Yk.R  Cş›	®!	4WGew.\ !÷î® rUo-uE>R Z[M]’\DUvCyAV_U	îT TCUOfRHN_B°î\ \ BQqs5KbycşJBQqvMf5YÂş±y±IEAxty6rv2rAî- DhHjqHY84ş9d]}sgtm.events.playback`ë­«opened,6 Tpublish_button_clickedÚ °completed lastExternalReferrerTime6G    ÕÖ<5683%i_adsIdE¶¨ee30fab8-6a60-4e1a-8613-d3b9fc730cf6 ocal}Å¤ U	@X webGLCapabilitiesTraŞF	# 2024-03-15T19:18:49.213Z# rinfo.app __` _`__ ,IÂ<8google_adsensİe (	"({"ca-pub-8áb422329420776":[b @]}"³$ma_config)M([[[[null,0,[]	¨"DIV#__next>MAIN>DIV.MuiBox-root.css-79elbk Container	!Mu$maxWidthLg.2I 5frq8c> <"],1,["48px","101],[1©[]şÈ şÈ vÈ >Ø %<(18i8uob"],4äİŠä  1)Ÿş¬ê¬10ib5jrÕPap=ò	 elevationA	rounded AccordionU(. J' guttí
As1xt5psw~<#panel4bh-header\ B…wBaseF] Summaryf h-“IpAe^w 2ş“ş“ş“ş“ş“ş“F“ 3ş“ş“ş“ş“ş“ş“F“şeòe/Grid•  cÑµ‰^d3bbyef/ item*rpybyB²q9qztqÍ½FÅÃE 0ş¼ş¼N¼fğ şbs2j7qwj¡€á÷24áğ-Aş;ş;ş;ş;š;1VForm	rolUïTextFielmåMs9w99oÑñ 6şqşqşqşqşq6q.…full†NŠ340bsa1Š 2şŠşŠşŠşŠÆŠ1; 7ş;ş;ş;ş;Z;1 >i^‘şi¶iNAå $Typography•·(Breadcrumbs6È  3…´Á 2:Y [,706040168],"¢,0313_103608"I[[-CX("9885424971	$4],[3789182192,m+D
	NC 77668848²-–A $1524323216vC 1,3¥N‰  0‚[0.460-÷!R ]!	8[1,"1vp",[[4,"2
],[6,"3]],8*0.3P00áÌ0.	4 0* 2X2,"30EŒS 6		W 9		[42]  6G "2]¶µb 	Ôb b Â
 q6 [-5	-ÿ".$1610297127	'Aš57069Ï. v X[["Toggle toolbar expan)",Dprivacy and legal ´ disÕ$","Dismiss- (]]]       »V¯*ğa 5_https://www.carinfo.app google_ama_settings*I    [1710706040204,1]hasVisitedBefore+I -|trueÇricbuzz.com WZRK_ARP$.	SX%7B%22j_n%22%3A%22Zw%3D 22%2C%22i(b25keAsEAwU.# d_ts03A0	4dh2  v	Qj_-7B%7D		l dˆ,R5K-RKZ-896Z  riL1709973171%7D 
>EV2Ô 0Screen%20ViewA 3A%5B1%2C;­5DK	'G%J¨2284b3b6be7c644105ab04241d7943c213%22 	L€3Ñ  YMETA'22useIP	‹false	Ô p-Š¤%22cZ sc	Cùd~_GESPSK-crwdcntrl.net(y["2 ğF","863fec27ca72f943b674f753d8664945a70265c4c9a047e2cb10b2b0da8125b2",17){$68022,nullR 80]# esp.criteoE 7	—(#Eid5-sync)	[".  "	W168758	Nt D0,[106]]#>openx*U>N 7836RI ]NH11]]#Cpubcid.org+SBX 597	DI: X¦0—rtbhouse,WğŞ","eoVPL2S0giGHhAl0BJO9cANKWsiZGRvwcEbOP+HPtDf6Pn+2wEeJshyAKFbNiLTpvbT3ILOlZMdrRx2CEEbezfRBWagqrEU4f2iQ0xuxrTtkdsRpxNU1W4igmIsH0TceQAhShbXWwyWT2yCAynks2L5HFgPLD9NZeQBr3rka8uB8V/VSxuhB2nx41ip57l6/biYOOAy3Bju7J4MLXdanZg==",17M@794n@1Ñ uidapiA+ 8),L _storage_test__ 9Dcc_id_update_ts-	 YJ014 4_2†2)Hdmp_last_msg_time.>E ,5526 
Õmo/{"R,ase.clmbtech¸ˆ/message?cid=15240:178&val_101=int:. \/profiles/james-anderson12=hÅ@º965R< 20=0	F°22=ab65044b-8d48-4ec9-88be-36f50bc0ffc5-1sk7o3 42y  gÅ¬ß	 01Ü,":{"activity!E_spent":e"scroll	p},"expiry":1710059565537}}Ïå<:cached:topics0-sğÂ["ARTwLgIE1ao8okk5KUt5lzllLiLIYxRQ4mKVOFAM+lAsKOiV1IDS9h7vadobqwEb6GdOuux8Il/1Si/AuVXmLOQQhHayDCUJTgDRXKFpWrRzl7mftZYfxO0+lSgKRtibLGyEMnSK5dT8xwZNBXer0Uzic0G6Gy2J9ijtjSRFUCDv/uIaWVltO0nMPvbs",170ÅÈP68607]ApanoramaId1äş³ %
Type2Pc4Indiv)_exp3!{$577969422% 4N )iry5N  ,9 6N 	omaA4@ 3hrPincode# ¶@"400049"zURLÜ"	Iç9/logiaYd-pebble-wireless-optical-m¡W¸-with-silent-click-buttons-1000-dpi-ultra-portaIPgraphite-/p/220434Ö&5	 İáäª5	4ZmlncgUCBwBm%2	ş3	N3	$679-6RK-97*3	¡v"œ	6D	<746903%7D
DEV-ˆ	ã$cs_ProductH	 e 	&J	A23W	J	 J	 Ş13€229b236df1060d42f2b691ef1886f0a35Z	Lƒ7DXJ	 àI±
*J	è
FI	‰ 0– %6I	 6	0I	2%7D + :Mm8 _boomr_clss Æ	†( hjLocalSÉ„Test í$!uetsidá	dc4ebdaf0dbe011ee887d3f3f2V
ac4e‡ â0Thu, 07 Mar 2024 17:41:31 GMT!vidã,\1e\<bf0eabf1f56d6e1a\ ä0Mon, 31\ 52\ HadobeCallFiredå7,1llPdpApiCount-«2%nonyaxId½5À855eda82-ff66-4a7e-a33e-f61f98dea456cityNameO Mumbai  9
_l!i s)i_check 		*8½to_bundleæwô>IENfZl94TjloOHYzSFBqTjQxRzEyTkEzWVd5eHF0TnY4a0FzeWk4aVlWMCUyQk1ra01lNG5qUGIlMkJNSk5SU1h5bG1LUmJwVlhRZldjTjlJRFRCR3E0R2kxMHRvWktMNHQlMkJ4WXJWR2dzNU5RYUswUmRaeUglMkJ1ZGg1TDFTTnN2a2hUaW9QRFJyTDJrejJFOXY5QWE3RjdaRkVEdTVLamtSM0k5Um9oSDZxYWNDZ3h2am5FWk1EOVBpSXJ0clg2SEslMkJkZEFQWG1LTW9Kbzdha3MxZiUyRktIOWIzT01QRHZBJTNEJTNE÷DExternalReferrerç-\4other,TimeèX	 7Hh1471pdpSelectedDeliveryM¡å )¶`{"entryDetailsList":[{"d,DShipNode":"D051","Á#":"©“ ","eddDat(024-03-09",AmId":"caÆHome‡t"}]}€tdl-sso-analytics-v2éÏH{"keyToCheckLoginStmT[],"eventToSendConfig"_ioˆ645ca5a2097a81de1506bbca","recordAno":·,"`TrackingUrls":["/paymentc`\rmation","/ocs/v1/order-B 4/oms/v2/list/d)^-pw€/useracca·(/allchannelR\floalcar$/attach­ü!	N
addi“delein!ory†tms7… /=B% 	X! price"],"ŠAndWishA!1mA&A6?isGetC¯:{"pÉ¥%?A[iesDtypA$K",!Õ$sToCapture	6l:[?","	,"valu‡ZAN.( E‘ ]0å¾6I nam@quant []}}},MGtmE!9U0dataLayerArguA	ToRECIp%ObjecF# ,"add_to_wishA",-(remove_frombegin©`outŞmodifyHi¡|$yOwnMethodªIÔWebVitalbrana8CROMA","browserBÇ  "”	h¢ enToPastDÿ	0q)	lJsDispat	 CÒ	s":J ,Men%¨	y,-WEB-APP","umYreqbiaKtransœeYÅRò,"eFEkyx>p$potential-Åbuff!µ0rayLength":0,8IntervalInSecon!C 5SizeInKb/!Ø0PublishEndpoi.&U$pi.tatadig!rE /™Âengine/…¢s/vaØ$sessionIdE\,esInS":86400Adir¥¤(FromTCPFlagZ( sTt.¼ 25920D createdAt¡X023-05-11T08:21:54.108Z!Š‚' __v":0},†  ”     ®8åş©>ğ 94_https://www.croma.com tdl-sso-redirect-tcp-flag#    {"isRedirectedFromTCP":false,"setAt":1709746923126} Ksession-id# 	Ises°Id":"4cc6c860-78dd-4d3a-bd3d-877cb350f8f2","sR` ,%user-idÁ"	¦À855eda82-ff66-4a7e-a33e-f61f98dea456 versionÂ"	7L4.1.15ùgt:tlm:0ÃRÀ{"execution":2435.5,"parsing":0.3,"request":{"dnstls":307/timeToFirstByte":516.1,"download":4.7HğqsponseSize":3115},"telemetryServerToken":"GRgdNPKF2baxcRHAQqAHq+hkD98jTQJHdWjol40Q9B0=","mode":"edge","features":{ŞePageL‹Ttrue,"prefetchViewCoun!İ,"deci!»ingMetho!Â s˜-side"}Å%%İˆ7b61238dc8884932b2dfee7edffdfd4c","!stamp":M=@871275} upperÄ-‰L0'neu.deviceInfoÅ@{"platform":"web"ª&Ve%èH":"0"}ñurlPathì:current ":"/logitech-pebble-wireless-optical-mousğCth-silent-click-buttons-1000-dpi-ultra-portable-graphite-/p/220434",!f vz8hp-ink-tank-419z<color-all-in-one'Djet-printer-border¥@ing-z6z97a-black-rà47627"}! digilocker.gov.in avatar ‡=     language‰=i!<en themeModeŠ	*|null!educative.io _uetsidU	< 72175920e6eb11ee8e92555f950c7142"_exp0ˆThu, 21 Mar 2024 18:55:40 GMTvid0 0$Mon, 14 Ap0 520 p lastExternalReferrerTimeA`1710960940327%i_adsId ˜081e0e06-049e-4505-83fa-29e5fa01da8a C 2\6ˆrm_storage_test_2095441918637846 U%,P, 2615344224709166 	†P+ 3429592807454933  0039489828065 L 8365360557078003 	 ‹ 	(' picgamesÉ _²ejs_	³_ ]_¤d i18next.translate.boo ^	 #Lng\	Len-USspncricinfo	a WZRK_LŒ.VD%7B%7D$META®-h22ps%22%3A1707664546%2C%22c9973061	sc	0 7	notif_A _p	41705511857.743	)useIP	¡p%7Dc_GESPSK-crwdcntrl.netÇ¡["2 ğF","863fec27ca72f943b674f753d8664945a70265c4c9a047e2cb10b2b0da8125b2",17Ï8455]  %ŒU>_ ò	} 
cb-BLsXR3ACClwqhDXUQSy"a)ires%D1744101215155# ls%ß ­	  0 _h*# eB·(_cb_svref	3 0 %3A%2F%2FYgoogle!ç%2F(† 3¡ël975015172!c_id_update_tsÌ	ß'30!82!Nhartbeat2‘I8.1688829889276.	X 3Ş2.06 ˆ1.BOn1HwCAk7oXDHJRknVikBSDUvY7G.3*90 ’a20)	<4“èt=B5pgKUDmHoRCBD_FKej20VRDAgDCQ&E=0&x=0&c=0.33&y=4305&w=678.i  ”O»(94769)	5•..  –.P75178 ¥grecaptchaÑ->ğ°09AI0kreL3sD3Ry3ILTYYEkBDadacX1uUYl6nZCfN5OGOZ3TSXW5VwucogIOayA05T_oDRzevibOrVQ86Ro6c6u_xh4mZ_VL-dtrWhoOi48tBhWN8jC2zPFDbJ-EANga6PgOl8O0xHSblTTcaXHFUZZlJANFfXaUkz6g  taboolaStoAâ(Detection ö	Ç !ÍP Ò	061fe9840ddefÁP`9b56bb8ec335dfb8&_expÓ0SuÁ  0ÙP08:31:1ÅP #ÙP Ô0Å€03ÙP.0  ci-lo¡@-key ®)–ÏAû<:cached:topics—	ğÂ["ARTwLgIE8Dw3bDlY9q5KN+EvwFdkOuRHGgiwrqkSgmf30FHzsfsDeGsC1arZy+D8YgvW/gOy1IBPgKNNc71ps5egYgXYot6xv3uvZjk+F4CH+muXjj1wodnkUoK2FWFysitSwgoVvMLZYCShFoBE4BAsyCwVTxmwW5AFIKJH2pU4Poe1VDKEzsGqOjKu",17…–$214358] ?z*¡pRx ]-MÅ8198814 match-Á"0-en-1375851 ÷)—/ 8á, ø	3	 6 ù8 ú9 û	2
 90 ü	3	 1 ı2 ş3 ÿ4  	Ÿ3	 5 6 7 8 	$0§#8227˜	@{"_uid":111045,". objectI386,"scribe6 ˆlug":"new-zealand-vs-australia-2nd-A…D","stage":"RUNNING	 tLIVE",",
naa[alClassI~,"gener4,"sub"ã	àasoH2023/24ºtl`2nd Tÿ<,"floodlit":"day	„rtD	ˆË	$-03-08T00:¡¢Z","end:% 12B% start¸	":L7T226L áá$Published"Î sauleNo%!sCancell%faÅcove„":"Y",54liveStreamUrl"- cryL6 {"us":" å :páMá /	Ğplus/player/_/id/0bb4cd5c-785c-4fe4-a88a-13cc78c43365a$highlightsF…  H6 {}E t‹Stumps)•tusTex!¨0Day 2 - New ZId@ lead by 40 runs.4 EóI2SNumberj02535"UYII$winnerTeamA	tossW2 2,Choice"resultStÁ1€!•In“":3, PÍÅL2, ,Overs":49.06	/Pendià	”V$Balls":295	(Recent' P%Åd b6PerV":6a<riel…5616,:188.215iÿyğin-.aŒ -eŒnamA¶ A‘ in.Ò","longN>& tour of:+ al,te0NZ v AUSF A6 )$unofficial	5	year":aù,"typ…İ,4,"isTrophy"qydescripœ":aseas:oeÿ2&2-21B&’KhasSta%ğ s… sType":1AƒtalVideoË 9(Squads":5,"/!ş WÁ¹I,},"ground":{%ñ93.î58810,1±`Hagley Oval, Christchurchasmal-N ": =ÍrB I@ he-oval-c6d È9vimÅD	·206697.» 837175,"Wthe-.[ Pdrew-a-big-crowd-for-%engÅ»scot	!7","u¡DD"/db/PICTURES/CMS/y00X97.jpg","width":900,"heı":6ô
š"The =   a big $ for the E S  !UCaQ…‚O  ,I v K`, World Cup 2015, Group A6İ4, February 23,*Áo¯¡“,ICC","photog5¡ViPpeerUr” }A‘wnQh824.®58807Ui:Aareaijá/zon>,Pacific/Auck!¨ÁmÍİd 52b ^İ=A¹hort‰: abbreviQs NáüMNØx<apacity":"18,000 teams":[{
^” KH	Y¬.^ Z¶ !ÿ¢µ >ï´e>å“FÔ340500	5.pnAÔisC:¥primaryCï$":"#b7c0c8¬.˜K2ˆ131871B
iğí -!3È -§ s*
ZwX:£ mw 5ajqwyw=û  m flam!VyUz- uGetty I÷±’şªÖª }ÁÎHoá~1	
1Óscora[(162 & 134/2a!,Info":"50 ov!äÂ,	Aä(1,3],"point"ZcÁoÀ ,BatsmField'!°ain3	!©OdÁÅ3},6Q 2.å 22˜µı"”yO"}(mM. : TÊL 4I©493Lf3f70!|>L 46ŸaL68iL aR	¶JB¡ ŠJ5)†Hr+ şF.F>>h
AÍ½î˜",Vì>V ".A† imBe-ó56ny;A»×úy8 2ş6¢6],å-
"MULTIormaáÅTEST"­0adToHeadSourcÉfeedbackáäáewStory323026D72 y	”log)(fantasyPick: drawOuèSupš-`isSdI%LsComple)#6/‰èLŒ&D,hasGameboard¥talGallZ­à:47$ Vk 8Î:2lan“¡"hi"]atedA!rg`9T±3:34.359dA6carJ…P}    \  #  M     Ì8Í,ü!  <´!_https://www.espncricinfo.com match-p-en-1389403™.    {"_uid":12,". objectI	6,"scribe6 Àlug":"india-vs-england-5th-test","stage":"RUNNING	tte":"POST","internationalClassc,"gener4,"sub"pnull,"season":"2023/24","titl`5th T	…4floodlit":"day	„rtD	ˆ42024-03-07T00:(.000Z","end:% 11B% startTimt.L  46L HtimePublished":true!TheduleNo%!sCancell%0false,"covera%GY"54liveStreamUrl"-countryL6 4{},"highlightsF/  H6 /status!ÄESUL!´	Tex!R I!şt won by an innings and 64 runs)rtusEnA0H2ü4Number":"00253!ÊM)ò$winnerTeamA(6,"tossW2  1. Choice"resultSÏ1,%8 I¯":3. PredicA” s1O!d(Overs":48.0>PendiÚ34.5	G$Balls":288	Recent	ÉQPlayS	 b6PerV "Ü series":{i5633,:œ386AHqœ22002,"mšq‘in-i¥a' -e'naE² Ei³ in %É","longN6 tour of#alteµ e(IND v Eeà? A6  	Ş$unofficial	6	year":a9,"typ…a,4,"isTrophy"qdescrip!”":a*Jûe‹2²1-25B²’×hasSta%Ù s… sTypIT<totalVideos":170A{ talSquadsEVgam%èWatchJ },"ground5Û920.Ú58056,1¥xHimachal Pradesh Cricket Associ¥=H Stadium, Dharamsal!Ísmal-p "2 !§)ˆò_ É h¡-p	¡ -Áˆket-a¡-s	¡-d.  loc¿)Ôim…çMï16258.45632YŞ8the-picturesqueain6d  u¡D"/db/PICTURES/CMS/`00X58.jpg","width":500,"he¡$":3!ÖcaQ{The v  ×aBBa C¶6 , K¥;|XI Punjab v Deccan Chargers, IPL.ä<, April 16, 2010Á!¾µ›pn Premier League","photograph¡qiˆpeerUrµ }AÈwnQŸ 5e&A 4U2ö area)ÌÁñzoná4Asia/Kolkata"}ÁÂÅ›^ 6.äYö IÁYÁ;hortM«abbreviQ;IND)I…êgapacity©ÃÓ eams":[{"
 1.  1.M	T­I "õ­8R/",>   E¥>ÆEòå‡F¡313100$14.logo.pnA¦isC1BH(primaryColoáB#0673c1O.QP142î 2415}Rç -l",^9HR˜ N>eKy>-8  b†y%:  cMÈA‘šµõ^Û6õA3]\~^¾:
}}Á¥HoáF f¨	ism	­ãAHorAş 218 & 195pInfoI”ÿ
.	ãA›L1,3],"points":0,"sidÅ?*'BatsmenGField'!uai#AóOdÁ•!P},6>„ámî_iiYuqŒ!ÄŸêÿ28¶ÿ50cebNÿ 22PEÿ87"/	á¦ı6– Šı%2Vû2 îùIù>ÏMùfA‡]÷ŠS]ó‰xZò477e~ì 2]êAÅ:îëEë],"day³	4"MULTI","formaá%TEˆ8headToHeadSourca¹feedbacká2ÁnewStoryx3230³report2 64óBlog2 880,"fantasyPicka,"drawyŸ\Sup•a S1 d·sComple=)‘6¶
Kù&Ë
,hasGameboard•³Î
GallxÏ
 IÁGá
05 t&ó
·
6Ï¬aclanguag3["hi"]ÏtedA!uğu9T08:33;359ZQ7carJˆ }       ×}è*û"  <³"_https://www.espncricinfo.com match--en-1391918š.    {"_uid":111355,"iobjectI	6,"scribe6 ğ@lug":"northern-districts-vs-auckland-16th-match","stage":"RUNNING	tte":"LIVE","internationalClasss(null,"gener4,"sub:% Xseason":"2023/24","titlcŠ MŠ4floodlit":"day	‰rtD	42024-03-08T00:(.000Z","end:% 11B% startTimvL7T226L HtimePublished":true!iheduleNo%!sCancell%0false,"covera%LN"54liveStreamUrl"-BcountryL6 4{},"highlightsF/  H6 /0status":"Not Œed W)ItusTex!\ Day 2 - NM%T Dis lead by 215 runs.6EnARJU 2NumberÕM6 $winnerTeamY@tossW2 2510,DChoice":2,"resultSèI!TInni¥3,PredicAµ s–, Overs":45	,PendASBall28 RecentB PlayQ	; b7PerWv series":{iÏ5671,:Î869AeqÎ882aŞiË8plunket-shield-aC -eCnaEÌ P	  S ","longNZ alteË e^! = A6% 	Ú$unofficial	;	year":”,"typ…Œ(3,"isTrophyq@descrip!0":"in New ZeaAh eB e®yÕ3-10-20BÕFú27B% hasSta%ã s’ sTypI]0totalVideos":E‚talSquad	gam%î W…­iô },"ground1Ş504.Ü58831,1ªPSeddon Park, Hamiltonÿmal-V "!‹)lf: I# sY-park-hXloc¥µ":…² m…›I†88142.ª 34152¡½	Ra-wide-angle-view-of-the-picturesque-.w in.z  ußX"/db/PICTURES/CMS/88100X42.jpg","width":500,"heì ":332,"caQ.A ‹  ‹ of the ‹  =[ in.]!F CşM M ,.¶ v EngAÀ$, 1st Test9Õ8, March 8, 2008Á¡}Getty I!4s","photograph¹=peerUr‘ }¡wnQb827.¸Ab 0Ub]>area)ùÁÒzonÁø Pacific/A	"}Á§Å€` 52^ Z:±hortMœ6 abbreviQx NáŸMTnew-zmôx<apacity":"10,000 teams":[{
”2562õ 2516.0I»Fû "Æİò6*. 1	",BÍ D",Bu[å¤Fô313300$32.logo.pnAûisC1z@TprimaryColor":"#950909mA.1Qa"*
241791,5iæ*ı	x½V˜SR¤ NŸe¬yŸF9  m6zf(  cmÉR’4	1ş´š´ }ÁÙHoáv
is_	scorae(247 & 126/2¡İ,Info":"45 ov!Ğ°	Aî(1,3],"point"tsidÅo*]Batsmen"\ideF'!œai#aSOdÁÅ!a},>[n	YL2452‹i[@yQ•I2w:AUCKAˆ:MªE29¶E11088c!u>E29.ëeE 8&w	ì¦;6š Š;1'V1> ş'ş'Î'Ùq(e¡÷ 5ái!A¡oÎy 2ş¢],x
4"MULTI","formaáºTEST"§0adToHeadSourcÉáÈÁö ewStoryIdqŸreport: †Blog: (fantasyPick: drawyÂ…Supd-TisS¤ dsComple°#NLT sÕ
 , Gameboard tGallÏ#Ë V>Cto $0,"languag[],&tedA!`"•49T08:33:34.359B¡Ecar9s<dougie"}       î§!·Ô>  <²_https://www.espncricinfo.com match--en-1391919›.    {"_uid":111356,"iobjectI	6,"scribe6 ¨lug":"central-dspaces serialization', function (st) {
        st.equal(qs.stringify({ a: 'b c' }, { format: qs.formats.RFC3986 }), 'a=b%20c');
        st.equal(qs.stringify({ 'a b': 'c d' }, { format: qs.formats.RFC3986 }), 'a%20b=c%20d');
        st.equal(qs.stringify({ 'a b': SaferBuffer.from('a b') }, { format: qs.formats.RFC3986 }), 'a%20b=a%20b');

        st.end();
    });

    t.test('Backward compatibility to RFC 3986', function (st) {
        st.equal(qs.stringify({ a: 'b c' }), 'a=b%20c');
        st.equal(qs.stringify({ 'a b': SaferBuffer.from('a b') }), 'a%20b=a%20b');

        st.end();
    });

    t.test('Edge cases and unknown formats', function (st) {
        ['UFO1234', false, 1234, null, {}, []].forEach(function (format) {
            st['throws'](
                function () {
                    qs.stringify({ a: 'b c' }, { format: format });
                },
                new TypeError('Unknown format option provided.')
            );
        });
        st.end();
    });

    t.test('encodeValuesOnly', function (st) {
        st.equal(
            qs.stringify(
                { a: 'b', c: ['d', 'e=f'], f: [['g'], ['h']] },
                { encodeValuesOnly: true }
            ),
            'a=b&c[0]=d&c[1]=e%3Df&f[0][0]=g&f[1][0]=h'
        );
        st.equal(
            qs.stringify(
                { a: 'b', c: ['d', 'e'], f: [['g'], ['h']] }
            ),
            'a=b&c%5B0%5D=d&c%5B1%5D=e&f%5B0%5D%5B0%5D=g&f%5B1%5D%5B0%5D=h'
        );
        st.end();
    });

    t.test('encodeValuesOnly - strictNullHandling', function (st) {
        st.equal(
            qs.stringify(
                { a: { b: null } },
                { encodeValuesOnly: true, strictNullHandling: true }
            ),
            'a[b]'
        );
        st.end();
    });

    t.test('throws if an invalid charset is specified', function (st) {
        st['throws'](function () {
            qs.stringify({ a: 'b' }, { charset: 'foobar' });
        }, new TypeError('The charset option must be either utf-8, iso-8859-1, or undefined'));
        st.end();
    });

    t.test('respects a charset of iso-8859-1', function (st) {
        st.equal(qs.stringify({ Ã¦: 'Ã¦' }, { charset: 'iso-8859-1' }), '%E6=%E6');
        st.end();
    });

    t.test('encodes unrepresentable chars as numeric entities in iso-8859-1 mode', function (st) {
        st.equal(qs.stringify({ a: 'â˜º' }, { charset: 'iso-8859-1' }), 'a=%26%239786%3B');
        st.end();
    });

    t.test('respects an explicit charset of utf-8 (the default)', function (st) {
        st.equal(qs.stringify({ a: 'Ã¦' }, { charset: 'utf-8' }), 'a=%C3%A6');
        st.end();
    });

    t.test('adds the right sentinel when instructed to and the charset is utf-8', function (st) {
        st.equal(qs.stringify({ a: 'Ã¦' }, { charsetSentinel: true, charset: 'utf-8' }), 'utf8=%E2%9C%93&a=%C3%A6');
        st.end();
    });

    t.test('adds the right sentinel when instructed to and the charset is iso-8859-1', function (st) {
        st.equal(qs.stringify({ a: 'Ã¦' }, { charsetSentinel: true, charset: 'iso-8859-1' }), 'utf8=%26%2310003%3B&a=%E6');
        st.end();
    });

    t.test('does not mutate the options argument', function (st) {
        var options = {};
        qs.stringify({}, options);
        st.deepEqual(options, {});
        st.end();
    });

    t.test('strictNullHandling works with custom filter', function (st) {
        var filter = function (prefix, value) {
            return value;
        };

        var options = { strictNullHandling: true, filter: filter };
        st.equal(qs.stringify({ key: null }, options), 'key');
        st.end();
    });

    t.test('strictNullHandling works with null serializeDate', function (st) {
        var serializeDate = function () {
            return null;
        };
        var options = { strictNullHandling: true, serializeDate: serializeDate };
        var date = new Date();
        st.equal(qs.stringify({ key: date }, options), 'key');
        st.end();
    });

    t.test('allows for encoding keys and values differently', function (st) {
        var encoder = function (str, defaultEncoder, charset, type) {
            if (type === 'key') {
                return defaultEncoder(str, defaultEncoder, charset, type).toLowerCase();
            }
            if (type === 'value') {
                return defaultEncoder(str, defaultEncoder, charset, type).toUpperCase();
            }
            throw 'this should never happen! type: ' + type;
        };

        st.deepEqual(qs.stringify({ KeY: 'vAlUe' }, { encoder: encoder }), 'key=VALUE');
        st.end();
    });

    t.test('objects inside arrays', function (st) {
        var obj = { a: { b: { c: 'd', e: 'f' } } };
        var withArray = { a: { b: [{ c: 'd', e: 'f' }] } };

        st.equal(qs.stringify(obj, { encode: false }), 'a[b][c]=d&a[b][e]=f', 'no array, no arrayFormat');
        st.equal(qs.stringify(obj, { encode: false, arrayFormat: 'bracket' }), 'a[b][c]=d&a[b][e]=f', 'no array, bracket');
        st.equal(qs.stringify(obj, { encode: false, arrayFormat: 'indices' }), 'a[b][c]=d&a[b][e]=f', 'no array, indices');
        st.equal(qs.stringify(obj, { encode: false, arrayFormat: 'comma' }), 'a[b][c]=d&a[b][e]=f', 'no array, comma');

        st.equal(qs.stringify(withArray, { encode: false }), 'a[b][0][c]=d&a[b][0][e]=f', 'array, no arrayFormat');
        st.equal(qs.stringify(withArray, { encode: false, arrayFormat: 'bracket' }), 'a[b][0][c]=d&a[b][0][e]=f', 'array, bracket');
        st.equal(qs.stringify(withArray, { encode: false, arrayFormat: 'indices' }), 'a[b][0][c]=d&a[b][0][e]=f', 'array, indices');
        st.equal(
            qs.stringify(withArray, { encode: false, arrayFormat: 'comma' }),
            '???',
            'array, comma',
            { skip: 'TODO: figure out what this should do' }
        );

        st.end();
    });

    t.test('stringifies sparse arrays', function (st) {
        /* eslint no-sparse-arrays: 0 */
        st.equal(qs.stringify({ a: [, '2', , , '1'] }, { encodeValuesOnly: true }), 'a[1]=2&a[4]=1');
        st.equal(qs.stringify({ a: [, { b: [, , { c: '1' }] }] }, { encodeValuesOnly: true }), 'a[1][b][2][c]=1');
        st.equal(qs.stringify({ a: [, [, , [, , , { c: '1' }]]] }, { encodeValuesOnly: true }), 'a[1][2][3][c]=1');
        st.equal(qs.stringify({ a: [, [, , [, , , { c: [, '1'] }]]] }, { encodeValuesOnly: true }), 'a[1][2][3][c][1]=1');

        st.end();
    });

    t.end();
});
